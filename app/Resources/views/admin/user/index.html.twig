{% extends 'base.html.twig' %}

{% block body %}
    {% include '::navbar.html.twig' %}

    <div class="container">
        {% include '::breadcrumb.html.twig'  with {'breadcrumb':breadcrumb} only %}
        <h4>Gestion des utilisateurs ({{ totalDisplayed }} / {{ totalUsers }})</h4>
        <div class="card-panel">
            <div class="row">
                <div class="col s12 m6 push-m3">
                    <form>
                        <div class="input-field">
                            <input id="search" type="search" required>
                            <label for="search"><i class="material-icons">search</i></label>
                            <i class="material-icons">close</i>
                        </div>
                    </form>
                </div>
            </div>
            <div class="row">
            {%  for user in users %}
            <div class="col s12 m6">
                <div class="card horizontal">
                    <div class="card-image">
                        <div class="circle">&nbsp;</div>
                    </div>
                    <div class="card-stacked">
                        <a href="#">{{ user.getName }}</a>
                        {{ user.roleString }}
                    </div>
                </div>
            </div>
            {%  endfor %}
            </div>
        {% if maxPages > 1 %}
            <div class="row">
        <div class="col s12 m6 push-m4">
            <ul class="pagination">
                <li {{ current == 1 ? 'class="disabled"': 'class="waves-effect"' }}><a href="{{ path('admin_user_index', {page: current-1 < 1 ? 1 : current-1}) }}"><i class="material-icons">chevron_left</i></a></li>

                <li class="waves-effect">
                {% if current > 1 %}
                        <a href="{{ path('admin_user_index', {page: current-1 }) }}">{{ current-1 }}</a>
                {% endif %}
                </li>

                <li class="active"><a href="#">{{ current }}</a></li>

                <li class="waves-effect">
                {% if current != maxPages%}
                        <a href="{{ path('admin_user_index', {page: current+1 }) }}">{{ current+1 }}</a>

                {% endif %}
                </li>
                <li {{ current == maxPages ? 'class="disabled"': 'class="waves-effect"' }}><a href="{{ path('admin_user_index', {page: current+1 <= maxPages ? current+1 : current}) }}"><i class="material-icons">chevron_right</i></a></li>
            </ul>
        </div>
            </div>
        {% endif %}
    </div>
    </div>
{% endblock %}

